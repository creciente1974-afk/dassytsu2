# データベースインスタンスを再作成

## 🔍 現在の状況

- ✅ REST APIで直接アクセス可能（ルールは正しく設定されている）
- ❌ Firebase SDKからアクセスできない（`permission-denied` エラー）
- ❌ 匿名認証がネットワークエラーで失敗
- ❌ 認証ベースのルールでもエラーが発生

## 💡 解決方法: データベースインスタンスを再作成

データベースインスタンスの設定に問題がある可能性があります。新しいインスタンスを作成してテストします。

### ステップ1: 新しいデータベースインスタンスを作成

1. **Firebase Console** → **Realtime Database**
2. **「データベースを作成」** をクリック
3. **設定を選択**
   - リージョン: `asia-southeast1`（既存と同じ）
   - モード: **テストモード**（開発用）
4. **「有効にする」** をクリック

### ステップ2: ルールを設定

1. **新しいデータベースインスタンスを選択**
2. **「ルール」タブをクリック**
3. **ルールを以下のように設定**

```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

4. **「公開」ボタンをクリック**

### ステップ3: アプリのデータベースURLを更新

新しいデータベースインスタンスのURLを取得して、アプリの設定を更新します。

1. **Firebase Console** → **Realtime Database**
2. **新しいデータベースインスタンスを選択**
3. **URLをコピー**（例: `https://dassyutsu2-test-rtdb.asia-southeast1.firebasedatabase.app`）

### ステップ4: アプリの設定を更新

`lib/firebase_service.dart`と`lib/main.dart`のデータベースURLを更新します。




