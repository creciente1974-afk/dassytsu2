# ルールを認証不要に戻す

## 🔍 現在の状況

- ✅ REST APIで直接アクセス可能（ルールは正しく設定されている）
- ❌ 匿名認証がネットワークエラーで失敗
- ❌ 認証ベースのルール (`auth != null`) を使用しているため、認証が成功しないとアクセスできない

## 💡 解決方法: ルールを認証不要に戻す

REST APIで直接アクセスできたということは、ルールは正しく設定されています。Firebase SDKが認証トークンを使用していない可能性があるため、ルールを認証不要に戻してテストします。

### ステップ1: Firebase Consoleでルールを変更

1. **Firebase Console** → **Realtime Database** → **ルール**タブ
2. **ルールを以下のように変更**

```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

3. **「公開」ボタンをクリック**

### ステップ2: アプリを再起動

```bash
flutter run
```

### ステップ3: ログを確認

- `permission-denied` エラーが解消されたか
- イベントリストが表示されるか

## 📋 確認チェックリスト

- [ ] Firebase Consoleでルールを認証不要に変更
- [ ] 「公開」ボタンをクリック
- [ ] アプリを再起動
- [ ] `permission-denied` エラーが解消されたか確認

## 💡 重要なポイント

- **REST APIで直接アクセスできた** → ルールは正しく設定されています
- **Firebase SDKが認証トークンを使用していない可能性** → ルールを認証不要に戻すことで、認証の問題を回避できます
- **開発環境では認証不要のルールを使用することも可能** → 本番環境では適切なセキュリティルールを設定してください




