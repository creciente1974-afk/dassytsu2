# æ–°ã—ã„Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹æ‰‹é †ï¼ˆè©³ç´°ç‰ˆï¼‰

## âš ï¸ æ³¨æ„äº‹é …

- **æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™**
- **æ—¢å­˜ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚„ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ãã ã•ã„**
- **æœ¬ç•ªç’°å¢ƒã§ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ã€æ…é‡ã«æ¤œè¨ã—ã¦ãã ã•ã„**

## ğŸ“‹ ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: æ–°ã—ã„Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ

1. **Firebase Console** ã«ã‚¢ã‚¯ã‚»ã‚¹: https://console.firebase.google.com/
2. **ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›**
   - ä¾‹: `dassyutsu2-new` ã¾ãŸã¯ `dassyutsu2-v2`
4. **Google Analyticsã®è¨­å®š**ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
   - é–‹ç™ºç’°å¢ƒã§ã¯ç„¡åŠ¹ã«ã—ã¦ã‚‚OK
5. **ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
6. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆãŒå®Œäº†ã™ã‚‹ã¾ã§å¾…æ©Ÿ**ï¼ˆæ•°åˆ†ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—2: Realtime Databaseã‚’ä½œæˆ

1. **Firebase Console** â†’ **Realtime Database**
2. **ã€Œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. **è¨­å®šã‚’é¸æŠ**
   - **ãƒªãƒ¼ã‚¸ãƒ§ãƒ³**: `asia-southeast1`ï¼ˆæ—¢å­˜ã¨åŒã˜ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¸æŠï¼‰
   - **ãƒ¢ãƒ¼ãƒ‰**: **ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰**ï¼ˆé–‹ç™ºç”¨ï¼‰
4. **ã€Œæœ‰åŠ¹ã«ã™ã‚‹ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
5. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹URLã‚’ã‚³ãƒ”ãƒ¼**
   - ä¾‹: `https://dassyutsu2-new-default-rtdb.asia-southeast1.firebasedatabase.app`
   - **é‡è¦**: ã“ã®URLã‚’ãƒ¡ãƒ¢ã—ã¦ãã ã•ã„

### ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®š

1. **ã€Œãƒ«ãƒ¼ãƒ«ã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯**
2. **ãƒ«ãƒ¼ãƒ«ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®š**

```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

3. **ã€Œå…¬é–‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**
4. **ã€Œå…¬é–‹ã€ã‚’ç¢ºèª** ã‚’ã‚¯ãƒªãƒƒã‚¯

### ã‚¹ãƒ†ãƒƒãƒ—4: Authenticationã‚’è¨­å®š

1. **Firebase Console** â†’ **Authentication**
2. **ã€Œå§‹ã‚ã‚‹ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆåˆå›ã®ã¿ï¼‰
3. **ã€ŒSign-in methodã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯**
4. **ã€ŒåŒ¿åã€ã‚’ã‚¯ãƒªãƒƒã‚¯**
5. **ã€Œæœ‰åŠ¹ã«ã™ã‚‹ã€ã‚’ãƒˆã‚°ãƒ«**
6. **ã€Œä¿å­˜ã€ã‚’ã‚¯ãƒªãƒƒã‚¯**

### ã‚¹ãƒ†ãƒƒãƒ—5: Storageã‚’è¨­å®š

1. **Firebase Console** â†’ **Storage**
2. **ã€Œå§‹ã‚ã‚‹ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆåˆå›ã®ã¿ï¼‰
3. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã‚’ç¢ºèª**
   - é–‹ç™ºç”¨ã¯è¨±å¯çš„ãªè¨­å®šã§OK
4. **ã€Œå®Œäº†ã€ã‚’ã‚¯ãƒªãƒƒã‚¯**

### ã‚¹ãƒ†ãƒƒãƒ—6: macOSã‚¢ãƒ—ãƒªã‚’è¿½åŠ 

1. **Firebase Console** â†’ **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®š**ï¼ˆâš™ï¸ã‚¢ã‚¤ã‚³ãƒ³ï¼‰
2. **ã€Œå…¨èˆ¬ã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯**
3. **ã€Œã‚¢ãƒ—ãƒªã‚’è¿½åŠ ã€** â†’ **macOS** ã‚’é¸æŠ
4. **Bundle IDã‚’å…¥åŠ›**
   - æ—¢å­˜ã®Bundle IDã‚’ä½¿ç”¨: `com.example.myFlutterProject`
   - ã¾ãŸã¯ã€`macos/Runner/Info.plist` ã§ç¢ºèª
5. **ã€Œã‚¢ãƒ—ãƒªã‚’ç™»éŒ²ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
6. **`GoogleService-Info.plist`ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**
7. **ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `macos/Runner/GoogleService-Info.plist` ã«ç½®ãæ›ãˆ**

### ã‚¹ãƒ†ãƒƒãƒ—7: ã‚¢ãƒ—ãƒªã®ã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°

æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ã‚’å–å¾—ã—ã¦ã€ã‚¢ãƒ—ãƒªã®ã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°ã—ã¾ã™ã€‚

#### 7-1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‚’å–å¾—

1. **Firebase Console** â†’ **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®š** â†’ **å…¨èˆ¬**
2. **ä»¥ä¸‹ã®æƒ…å ±ã‚’ã‚³ãƒ”ãƒ¼**:
   - **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID**: `dassyutsu2-new`ï¼ˆä¾‹ï¼‰
   - **Web APIã‚­ãƒ¼**: `AIzaSy...`ï¼ˆæ–°ã—ã„ã‚­ãƒ¼ï¼‰
   - **Storage Bucket**: `dassyutsu2-new.firebasestorage.app`ï¼ˆä¾‹ï¼‰
   - **Database URL**: `https://dassyutsu2-new-default-rtdb.asia-southeast1.firebasedatabase.app`ï¼ˆä¾‹ï¼‰

#### 7-2: `lib/main.dart` ã‚’æ›´æ–°

```dart
final options = FirebaseOptions(
  apiKey: 'æ–°ã—ã„APIã‚­ãƒ¼', // ã‚¹ãƒ†ãƒƒãƒ—7-1ã§å–å¾—
  appId: '1:245139907628:ios:e187581a13a65a02eddd89', // æ—¢å­˜ã®App IDã‚’å†åˆ©ç”¨
  messagingSenderId: '245139907628', // æ—¢å­˜ã®Sender IDã‚’å†åˆ©ç”¨
  projectId: 'dassyutsu2-new', // æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID
  storageBucket: 'dassyutsu2-new.firebasestorage.app', // æ–°ã—ã„Storage Bucket
  databaseURL: 'https://dassyutsu2-new-default-rtdb.asia-southeast1.firebasedatabase.app', // æ–°ã—ã„Database URL
);
```

#### 7-3: `lib/firebase_service.dart` ã‚’æ›´æ–°

```dart
final String _storageBucketURL = "gs://dassyutsu2-new.firebasestorage.app"; // æ–°ã—ã„Storage Bucket
final String _databaseURL = "https://dassyutsu2-new-default-rtdb.asia-southeast1.firebasedatabase.app"; // æ–°ã—ã„Database URL
```

### ã‚¹ãƒ†ãƒƒãƒ—8: ã‚¢ãƒ—ãƒªã‚’å†èµ·å‹•

```bash
flutter clean
flutter pub get
flutter run
```

### ã‚¹ãƒ†ãƒƒãƒ—9: å‹•ä½œç¢ºèª

1. **ã‚¢ãƒ—ãƒªã‚’èµ·å‹•**
2. **ãƒ­ã‚°ã‚’ç¢ºèª**
   - `permission-denied` ã‚¨ãƒ©ãƒ¼ãŒè§£æ¶ˆã•ã‚ŒãŸã‹
   - ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹
3. **Firebase Consoleã§ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª**
   - Realtime Databaseã«ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã•ã‚Œã‚‹ã‹

## ğŸ“ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] æ–°ã—ã„Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
- [ ] Realtime Databaseã‚’ä½œæˆï¼ˆãƒªãƒ¼ã‚¸ãƒ§ãƒ³: `asia-southeast1`ï¼‰
- [ ] ãƒ«ãƒ¼ãƒ«ã‚’ `.read: true, .write: true` ã«è¨­å®š
- [ ] Authenticationã§åŒ¿åèªè¨¼ã‚’æœ‰åŠ¹åŒ–
- [ ] Storageã‚’è¨­å®š
- [ ] macOSã‚¢ãƒ—ãƒªã‚’è¿½åŠ ã—ã¦ `GoogleService-Info.plist` ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- [ ] `macos/Runner/GoogleService-Info.plist` ã‚’ç½®ãæ›ãˆ
- [ ] `lib/main.dart` ã‚’æ›´æ–°
- [ ] `lib/firebase_service.dart` ã‚’æ›´æ–°
- [ ] `flutter clean && flutter pub get && flutter run` ã‚’å®Ÿè¡Œ
- [ ] å‹•ä½œç¢ºèª

## ğŸ’¡ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: `permission-denied`

- **ãƒ«ãƒ¼ãƒ«ã‚’ç¢ºèª**: Firebase Console â†’ Realtime Database â†’ ãƒ«ãƒ¼ãƒ«
- **ã€Œå…¬é–‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**: ãƒ«ãƒ¼ãƒ«ã‚’å¤‰æ›´ã—ãŸå¾Œã¯å¿…ãšå…¬é–‹ã—ã¦ãã ã•ã„

### ã‚¨ãƒ©ãƒ¼: `Firebase has not been correctly initialized`

- **`GoogleService-Info.plist` ã‚’ç¢ºèª**: æ­£ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ãŒé…ç½®ã•ã‚Œã¦ã„ã‚‹ã‹
- **`lib/main.dart` ã®è¨­å®šã‚’ç¢ºèª**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã€APIã‚­ãƒ¼ãªã©ãŒæ­£ã—ã„ã‹

### ã‚¨ãƒ©ãƒ¼: `database URL not found`

- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹URLã‚’ç¢ºèª**: Firebase Console â†’ Realtime Database â†’ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹URL
- **URLã®æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ï¼ˆ`/`ï¼‰ã‚’ä»˜ã‘ãªã„**: `https://...firebasedatabase.app`ï¼ˆæ­£ã—ã„ï¼‰




